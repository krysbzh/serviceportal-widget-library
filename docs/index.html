<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Galerie GitHub</title>
  <style>
    body {
      font-family: sans-serif;
      background: #f5f5f5;
      padding: 20px;
    }

    .gallery {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      gap: 20px;
      justify-items: center;
    }

    .item {
      width: 100%;
      max-width: 300px;
      text-align: center;
      background: #fff;
      padding: 10px;
      border-radius: 8px;
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
    }

    .item a {
      text-decoration: none;
      color: inherit;
    }

    img, video {
      width: 100%;
      height: auto;
      border-radius: 4px;
    }

    .caption {
      margin-top: 8px;
      font-size: 0.9em;
      color: #555;
      word-break: break-word;
    }
  </style>
</head>
<body>
  <h1>Galerie des widgets</h1>
  <div class="gallery" id="gallery"></div>

  <script>
    const baseURL = "https://raw.githubusercontent.com/krysbzh/serviceportal-widget-library/master/images/";
    const githubBase = "https://github.com/krysbzh/serviceportal-widget-library/tree/master/";

    const files = [
      "PE Image Drag & Drop.mp4",
      "pe-user-request-1.gif",
      "pe-root-cause-1a.png",
      "pe-feedback-card-screenshot-01.png",
      "pe-progressive-form.gif",
      "pe-inline-editing-data-table.gif",
      "pe-form-with-related-list.gif"
      // ajoute ici les autres fichiers que tu veux afficher
    ];

    const folderMap = {
      "pe-app-analytics": "pe-app-analytics",
      "pe-appointment-list": "pe-appointment-list",
      "pe-appointment-scheduler": "pe-appointment-scheduler",
      "pe-appointment-scheduling": "pe-appointment-scheduling",
      "pe-background-slideshow": "pe-background-slideshow",
      "pe-barcode-reader-fi": "pe-barcode-reader-fi",
      "pe-barcode-reader-live": "pe-barcode-reader-live",
      "pe-blog": "pe-blog",
      "pe-business-impact-details": "pe-business-impact-details",
      "pe-business-impact": "pe-business-impact",
      "pe-carousel-plus": "pe-carousel-plus",
      "pe-circle-of-destiny": "pe-circle-of-destiny",
      "pe-cloud-performance": "pe-cloud-performance",
      "pe-cloud-sprawl-card-utilization-snippet": "pe-cloud-sprawl-card-utilization-snippet",
      "pe-cloud-sprawl-info-cost-snippet": "pe-cloud-sprawl-info-cost-snippet",
      "pe-cloud-sprawl-info-snippet": "pe-cloud-sprawl-info-snippet",
      "pe-cloud-sprawl-info-utilization-snippet": "pe-cloud-sprawl-info-utilization-snippet",
      "pe-cloud-sprawl-info-with-user-snippet": "pe-cloud-sprawl-info-with-user-snippet",
      "pe-cloud-sprawl-overview-snippet": "pe-cloud-sprawl-overview-snippet",
      "pe-cloud-sprawl-tab-with-donut-chart-snippet": "pe-cloud-sprawl-tab-with-donut-chart-snippet",
      "pe-cloud-sprawl-tier-overview-snippet": "pe-cloud-sprawl-tier-overview-snippet",
      "pe-cloud-sprawl-vm-summary-snippet": "pe-cloud-sprawl-vm-summary-snippet",
      "pe-cod-static": "pe-cod-static",
      "pe-completion-task": "pe-completion-task",
      "pe-contact-slider": "pe-contact-slider",
      "pe-countdown": "pe-countdown",
      "pe-csm-case-details": "pe-csm-case-details",
      "pe-csm-case-row": "pe-csm-case-row",
      "pe-csm-case-status": "pe-csm-case-status",
      "pe-csm-cost-breakdown": "pe-csm-cost-breakdown",
      "pe-csm-dashboard-expandable": "pe-csm-dashboard-expandable",
      "pe-csm-dashboard-tabs": "pe-csm-dashboard-tabs",
      "pe-csm-hotfix-date": "pe-csm-hotfix-date",
      "pe-csm-location": "pe-csm-location",
      "pe-csm-progressbar": "pe-csm-progressbar",
      "pe-csm-summary": "pe-csm-summary",
      "pe-cta-count": "pe-cta-count",
      "pe-custom-header": "pe-custom-header",
      "pe-custom-overlay": "pe-custom-overlay",
      "pe-eliminate-outage-title-card-snippet": "pe-eliminate-outage-title-card-snippet",
      "pe-emp-exp-services-list": "pe-emp-exp-services-list-snippet",
      "pe-enduser-catalog": "pe-enduser-catalog",
      "pe-enduser-login-header": "pe-enduser-login-header",
      "pe-enduser-survey": "pe-enduser-survey",
      "pe-feedback-card": "pe-feedback-card",
      "pe-foexp-401k": "pe-foexp-401k",
      "pe-foexp-debit-details": "pe-foexp-debit-details",
      "pe-foexp-devices": "pe-foexp-devices",
      "pe-foexp-photoupload": "pe-foexp-photoupload",
      "pe-foexp-training": "pe-foexp-training",
      "pe-form-formly": "pe-form-formly",
      "pe-form-with-related-list": "pe-form-with-related-list",
      "pe-google-analytics": "pe-google-analytics",
      "pe-help-cards": "pe-help-cards",
      "pe-homepage-search-with-video": "pe-homepage-search-with-video",
      "pe-horizontal-stacked-bar": "pe-horizontal-stacked-bar",
      "pe-image-drag-and-drop": "pe-image-drag-and-drop",
      "pe-inline-editing-data-table": "pe-inline-editing-data-table",
      "pe-itbm-business-unit-details": "pe-itbm-business-unit-details",
      "pe-itbm-interaction-note": "pe-itbm-interaction-note",
      "pe-itbm-organizational-spend-alignment": "pe-itbm-organizational-spend-alignment",
      "pe-kb-list": "pe-kb-list",
      "pe-list-menu-expand-collapse": "pe-list-menu-expand-collapse",
      "pe-manage-attachments": "pe-manage-attachments",
      "pe-maps-ngmap": "pe-maps-ngmap",
      "pe-multiform": "pe-multiform",
      "pe-my-jira-issues": "pe-my-jira-issues",
      "pe-news-carousel": "pe-news-carousel",
      "pe-news-list": "pe-news-list",
      "pe-outcome-feedback": "pe-outcome-feedback",
      "pe-progressive-form": "pe-progressive-form",
      "pe-push-notification": "pe-push-notification",
      "pe-recommendation-cards": "pe-recommendation-cards",
      "pe-related-list": "pe-related-list",
      "pe-remediation-actions": "pe-remediation-actions",
      "pe-report-issue": "pe-report-issue",
      "pe-rest-typeahead-search": "pe-rest-typeahead-search",
      "pe-root-cause-details": "pe-root-cause-details/widget",
      "pe-root-cause": "pe-root-cause",
      "pe-scratch-pad": "pe-scratch-pad",
      "pe-simplefeedback-styled": "pe-simplefeedback-styled",
      "pe-simplefeedback": "pe-simplefeedback",
      "pe-sp-floating-viewport": "pe-sp-floating-viewport",
      "pe-status-alert": "pe-status-alert",
      "pe-status-card-snippet": "pe-status-card-snippet",
      "pe-status-card": "pe-status-card",
      "pe-support-options": "pe-support-options",
      "pe-tabbed-panel-horizontal": "pe-tabbed-panel-horizontal",
      "pe-tabbed-panel-vertical": "pe-tabbed-panel-vertical",
      "pe-task-carousel": "pe-task-carousel",
      "pe-user-request": "pe-user-request",
      "people-card": "people-card"
    };

    const gallery = document.getElementById("gallery");

    files.forEach(file => {
      const ext = file.split('.').pop().toLowerCase();
      const name = file.split('/').pop().split('.')[0];
      const folderKey = Object.keys(folderMap).find(key => name.startsWith(key));
      const folderName = folderKey || "images";
      const linkHref = githubBase + (folderMap[folderKey] || "images");

      const mediaURL = baseURL + encodeURIComponent(file);

      const wrapper = document.createElement("div");
      wrapper.className = "item";

      const link = document.createElement("a");
      link.href = linkHref;
      link.target = "_blank";

      let media;
      if (["jpg", "jpeg", "png", "gif", "svg", "webp"].includes(ext)) {
        media = document.createElement("img");
        media.src = mediaURL;
      } else if (["mp4", "webm"].includes(ext)) {
        media = document.createElement("video");
        media.src = mediaURL;
        media.controls = true;
      }

      const caption = document.createElement("div");
      caption.className = "caption";
      caption.textContent = folderName;

      if (media) {
        link.appendChild(media);
        wrapper.appendChild(link);
        wrapper.appendChild(caption);
        gallery.appendChild(wrapper);
      }
    });
  </script>
</body>
</html>
